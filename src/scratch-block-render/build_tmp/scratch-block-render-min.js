YUI.add("scratch-block-render",function(E){var D=E.Base.create("roundedBasicBlock",E.Shape,[],{_draw:function(){var F=this.get("width"),I=this.get("height"),H=this.get("ellipseWidth"),L=this.get("ellipseHeight"),K=this.get("showFooter"),J=this.get("showHeader"),G=this.get("connectorIndent"),M=this.get("connectorWidth");this.clear();this.moveTo(0,L);this.lineTo(0,I-2*L);this.quadraticCurveTo(0,I-L,H,I-L);if(K){this.lineTo(G,I-L);this.quadraticCurveTo(G,I,G+H,I);this.lineTo(G+M-H,I);this.quadraticCurveTo(G+M,I,G+M,I-L);}this.lineTo(F-H,I-L);this.quadraticCurveTo(F,I-L,F,I-2*L);this.lineTo(F,L);this.quadraticCurveTo(F,0,F-H,0);if(J){this.lineTo(G+M,0);this.quadraticCurveTo(G+M,L,G+M-H,L);this.lineTo(G+H,L);this.quadraticCurveTo(G,L,G,0);}this.lineTo(H,0);this.quadraticCurveTo(0,0,0,L);this.end();}},{NAME:"roundedBasicBlock",ATTRS:E.mix({showHeader:{value:true},showFooter:{value:true},ellipseWidth:{value:5},ellipseHeight:{value:5},connectorIndent:{value:15},connectorWidth:{value:20}},E.Shape.ATTRS)});var C=E.Base.create("graphicsBlockRender",E.View,[],{container:'<div class="basicBlock"></div>',template:'<div class="front1 bd">{statement}</div>',basicBlock:null,initializer:function(){},render:function(){var K=this.get("block");this.container.setContent(E.Lang.sub(this.template,{statement:K.statement}));if(!this.container.inDoc()){this.get("parent").append(this.container);}var J=new E.Graphic({render:this.container});var H=this.container.one(".bd");var I=H.get("region");var G=I.right-I.left,F=I.bottom-I.top;J.addShape({type:D,width:G,height:F,x:0,y:0,fill:{color:"#3851d2"},stroke:{weight:1,color:"#344c94"},showHeader:K._topBlocksAllowed,showFooter:K._bottomBlocksAllowed});this.container.plug(E.Plugin.Drag,{dragMode:"intersect"});this.container.plug(E.Plugin.Drop);this.basicBlock=J;this.container.dd.on("drag:start",this._bringToFront,this);this.container.dd.on("drag:end",this._bringToBack,this);},_bringToFront:function(H){var G=this.container.one(".bd"),F=E.one(this.basicBlock.get("node"));G.removeClass("front1");G.addClass("front3");F.addClass("front2");},_bringToBack:function(H){var G=this.container.one(".bd"),F=E.one(this.basicBlock.get("node"));G.removeClass("front3");F.removeClass("front2");G.addClass("front1");},_setZIndex:function(I,H){var G=this.container.one(".bd"),F=E.one(this.basicBlock.get("node"));G.setStyle("z-index",I);F.setStyle("z-index",H);}},{ATTRS:{"block":{value:null,writeOnce:true},"parent":{value:null}}});E.GraphicsBlockRender=C;var B=E.Base.create("baseBlockRender",E.View,[],{headTemplate:'<div class="hd">&nbsp;</div>',footerTemplate:'<div class="ft">&nbsp;</div>',template:"{headTemplate}"+'<div class="bd">{statement}</div>'+"{footerTemplate}",container:'<div class="basicBlock"></div>',initializer:function(){},render:function(){var F=this._buildContext();this.container.setContent(E.Lang.sub(this.template,F));if(!this.container.inDoc()){this.get("parent").append(this.container);this.container.plug(E.Plugin.Drag,{dragMode:"intersect"});this.container.plug(E.Plugin.Drop);this.container.drop.on("drop:enter",function(G){console.log(G);},this.container);this.container.drop.on("drop:exit",function(G){console.log(G);},this.container);}},_buildContext:function(){var H=this.get("block"),G="",F="";if(H._topBlocksAllowed){G=this.headTemplate;}if(H._bottomBlocksAllowed){F=this.footerTemplate;}return{headTemplate:G,footerTemplate:F,statement:this.get("block").statement};}},{ATTRS:{"block":{value:null,writeOnce:true},"parent":{value:null}}});var A=E.Base.create("innerBlockRender",B,[],{template:'<div class="topBlock">'+'  <div class="hd">&nbsp;</div>'+'  <div class="bd">{statement}</div>'+'  <div class="ft">&nbsp;</div>'+"</div>"+'<div class="middleBlock">'+'  <div class="contentsWrapper">'+'    <div class="contents">&nbsp;</div>'+"  </div>"+"</div>"+'<div class="bottomBlock">'+'  <div class="hd">&nbsp;</div>'+'  <div class="bd">&nbsp;</div>'+'  <div class="ft">&nbsp;</div>'+"</div>",container:'<div class="controlBlock"></div>'});E.BasicBlockRender=B;},"@VERSION@",{use:["base","view","scratch-block-model","dd-plugin","dd-drop-plugin","graphics"]});