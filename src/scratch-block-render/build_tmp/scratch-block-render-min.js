YUI.add("scratch-block-render",function(C){var B=C.Base.create("roundedBasicBlock",C.Shape,[],{_draw:function(){var D=this.get("width"),G=this.get("height"),F=this.get("ellipseWidth"),J=this.get("ellipseHeight"),I=this.get("showFooter"),H=this.get("showHeader"),E=this.get("connectorIndent"),K=this.get("connectorWidth");this.clear();this.moveTo(0,J);this.lineTo(0,G-2*J);this.quadraticCurveTo(0,G-J,F,G-J);if(I){this.lineTo(E,G-J);this.quadraticCurveTo(E,G,E+F,G);this.lineTo(E+K-F,G);this.quadraticCurveTo(E+K,G,E+K,G-J);}this.lineTo(D-F,G-J);this.quadraticCurveTo(D,G-J,D,G-2*J);this.lineTo(D,J);this.quadraticCurveTo(D,0,D-F,0);if(H){this.lineTo(E+K,0);this.quadraticCurveTo(E+K,J,E+K-F,J);this.lineTo(E+F,J);this.quadraticCurveTo(E,J,E,0);}this.lineTo(F,0);this.quadraticCurveTo(0,0,0,J);this.end();}},{NAME:"roundedBasicBlock",ATTRS:C.mix({showHeader:{value:true},showFooter:{value:true},ellipseWidth:{value:5},ellipseHeight:{value:5},connectorIndent:{value:15},connectorWidth:{value:20}},C.Shape.ATTRS)});var A=C.Base.create("graphicsBlockRender",C.View,[],{container:'<div class="basicBlock"></div>',template:'<div class="bd">{statement}</div>',basicBlock:null,initializer:function(){},_renderInnerBlock:function(){var H=this.get("block"),F=H.get("inputBlocks"),G={},D={statement:H.statement},E;C.each(F,function(J,I){var K=C.guid();G[K]=J;D[I]='<div id="'+K+'" class="relativeBlock"></div>';});E=C.Node.create(C.substitute(this.template,D,null,true));C.each(G,function(J,K){var I=E.one("#"+K);this._renderBlock(J,I);},this);return E;},_renderBlock:function(){},render:function(){var I=this.get("block");if(!this.container.inDoc()){this.get("parent").append(this.container);}var H=new C.Graphic({render:this.container});this.container.appendChild(this._renderInnerBlock());var F=this.container.one(".bd");var G=F.get("region");var E=G.width,D=G.height;H.addShape({type:B,width:E,height:D,x:0,y:0,fill:{color:"#3851d2"},stroke:{weight:0},showHeader:I._topBlocksAllowed,showFooter:I._bottomBlocksAllowed});this.container.plug(C.Plugin.Drag,{dragMode:"intersect"});this.container.plug(C.Plugin.Drop);this.basicBlock=H;this.container.dd.on("drag:start",this._bringToFront,this);this.container.dd.on("drag:end",this._bringToBack,this);},_bringToFront:function(D){this.container.setStyle("zIndex",1);},_bringToBack:function(D){this.container.setStyle("zIndex",0);}},{ATTRS:{"block":{value:null,writeOnce:true},"parent":{value:null}}});C.GraphicsBlockRender=A;},"@VERSION@",{use:["base","view","scratch-block-model","dd-plugin","dd-drop-plugin","graphics","substitute"]});