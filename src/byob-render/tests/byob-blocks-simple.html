<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>scratch-block-model tests</title>
<link rel="stylesheet" type="text/css" href="../../../../yui3/build/cssreset/cssreset-min.css">
<link rel="stylesheet" type="text/css" href="../../../../yui3/build/cssgrids/grids-min.css">

<script type="text/javascript" src="../../../../yui3/build/yui/yui.js"></script>
<script type="text/javascript" src="../../../build/scratch-for-web-loader/scratch-for-web-loader.js"></script>
<style type="text/css">
  #testContainer div.testBlkContainer {
    margin: 5px;
  }
</style>
</head>
<body class="yui3-skin-sam">
<h1>byob-blocks simple Tests</h1>
<div id="testContainer" class="blkExpr"></div>
<script type="text/javascript">
YUI({
  filter : 'raw'
}).use("byob-render", function(Y) {
  var blockDefinitions = [
    {
      type: Y.BlockTypes.statement,
      statement: ["A simple statement"]
    },
    {
      type: Y.BlockTypes.statement,
      statement: ["Another", "statement", "split", "into", "blocks"]
    },
    {
      type: Y.BlockTypes.statement,
      statement: ["Here's --> ",
        {
          type: "reporter",
          name: "input"
        },
        "<-- an input"]
    },
    {
      type: Y.BlockTypes.reporter,
      statement: ["simple expression"]
    },
    {
      type: Y.BlockTypes.statement,
      statement: ["Forever",
        {
          type: "cShape",
          name: "input"
        }
      ]
    },
    {
      type: Y.BlockTypes.statement,
      statement: ["If",
        {
          type: "reporter",
          name: "predicate"
        },
        {
          type: "cShape",
          name: "ifstatement"
        },
        "else",
        {
          type: "cShape",
          name: "elsestatement"
        }
      ]
    },
    {
      type: Y.BlockTypes.statement,
      statement: ["Testing repeat",
        {
          type: "repeat",
          name: "testingRepeat",
          size: 1,
          subBlocks: [
            "sub block"
          ]
        }
      ]
    }
  ]

  var node = Y.one("#testContainer");
  
  window.setTimeout(function() {
    Y.each(blockDefinitions, function(bd) {
      var blockModel = new Y.ExpressionBlockModel({
        blockDefinition: bd
      });
      
      var testContainer = Y.Node.create('<div class="testBlkContainer"></div>');
      node.append(testContainer);
      var blockRender = Y.BlockRender({
        model: blockModel,
        parent: testContainer
      });
      
      blockRender.render();
    });
    }, 100);
});
</script>
</body>
</html>